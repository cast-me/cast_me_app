// Run from lib:
// protoc --dart_out=. business_logic/models/protobufs/*.proto

syntax = "proto3";

package cast_me_app;

import "business_logic/models/protobufs/topic_base.proto";
import "business_logic/models/protobufs/like_base.proto";

message CastBase {
    // Server specified.
    string id = 1;
    string created_at_string = 2;

    // Fetched on read via a join.
    string author_username = 3;
    string author_display_name = 4;
    string image_url = 5;
    string accent_color_base = 6;
    uint32 view_count = 7;
    bool has_viewed = 8;
    repeated LikeBase likes = 9;
    // We use names instead of `TopicBase` because we need to
    // perform an array agg to filter and that only works with
    // raw text values.
    repeated string topic_names = 10;
    repeated string tagged_usernames = 11;

    // Client Specified.
    string author_id = 12;
    string title = 13;
    string topic = 14;
    uint32 duration_ms = 15;
    string audio_url = 16;
    string reply_to = 17;
    string external_url = 18;
}